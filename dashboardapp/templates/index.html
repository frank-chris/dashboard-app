<!doctype html>
<html lang="en" data-theme="emerald">
  <head style="height: 100%; width: 100%;">
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <link href="{{ url_for('static', filename='styles.css') }}" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">

    <title>Dashboard</title>
  </head>
  <body style="height: 100%; width: 100%; overflow-x: hidden;">
    <!-- navbar -->
    <div class="navbar border-b bg-base-100">
      <div class="navbar-start">
        <!-- email button -->
        <a href="mailto:chrisfrancischris@gmail.com" class="btn btn-ghost normal-case text-lg">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current">
            <path d="M24 0l-6 22-8.129-7.239 7.802-8.234-10.458 7.227-7.215-1.754 24-12zm-15 16.668v7.332l3.258-4.431-3.258-2.901z"/>
          </svg> &nbsp;
          Chris Francis 
        </a>
      </div>
      <div class="navbar-center">
        <a href="/" class="btn btn-ghost normal-case text-xl">Dashboard</a>
      </div>
      <div class="navbar-end">
        <!-- linkedin button -->
        <a href="https://www.linkedin.com/in/chrisfrancis09/" class="btn btn-ghost btn-square">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current">
            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
          </svg>
        </a>
        <!-- github button -->
        <a href="https://github.com/frank-chris" class="btn btn-ghost btn-square">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current">
            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-4.466 19.59c-.405.078-.534-.171-.534-.384v-2.195c0-.747-.262-1.233-.55-1.481 1.782-.198 3.654-.875 3.654-3.947 0-.874-.312-1.588-.823-2.147.082-.202.356-1.016-.079-2.117 0 0-.671-.215-2.198.82-.64-.18-1.324-.267-2.004-.271-.68.003-1.364.091-2.003.269-1.528-1.035-2.2-.82-2.2-.82-.434 1.102-.16 1.915-.077 2.118-.512.56-.824 1.273-.824 2.147 0 3.064 1.867 3.751 3.645 3.954-.229.2-.436.552-.508 1.07-.457.204-1.614.557-2.328-.666 0 0-.423-.768-1.227-.825 0 0-.78-.01-.055.487 0 0 .525.246.889 1.17 0 0 .463 1.428 2.688.944v1.489c0 .211-.129.459-.528.385-3.18-1.057-5.472-4.056-5.472-7.59 0-4.419 3.582-8 8-8s8 3.581 8 8c0 3.533-2.289 6.531-5.466 7.59z"/>
          </svg>
        </a>
      </div>
    </div>


  <!-- hero -->
  <div class="hero bg-base-100"> 
    <div class="w-full justify-items-center grid grid-cols-2 gap-4">
      <div class="flex-col w-full lg:w-[37rem] h-[24rem] mt-4">
        <!-- plot -->
        <div id='chart1' class='chart1 w-full h-full'></div>
        <div class="flex flex-row gap-2 justify-center pl-10">
          <!-- refresh plot button -->
          <button name="refresh1" onclick="refresh(1);" class="tooltip btn-sm btn btn-primary" data-tip="Refresh plot">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="fill-current">
              <path d="M13.5 2c-5.621 0-10.211 4.443-10.475 10h-3.025l5 6.625 5-6.625h-2.975c.257-3.351 3.06-6 6.475-6 3.584 0 6.5 2.916 6.5 6.5s-2.916 6.5-6.5 6.5c-1.863 0-3.542-.793-4.728-2.053l-2.427 3.216c1.877 1.754 4.389 2.837 7.155 2.837 5.79 0 10.5-4.71 10.5-10.5s-4.71-10.5-10.5-10.5z"/>
            </svg>
          </button>
          <form enctype="multipart/form-data" method="post">
            <!-- download csv button -->
            <button name="download1" class="btn-sm btn tooltip" data-tip="Download csv">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="fill-current">
                <path d="M6 13h4v-7h4v7h4l-6 6-6-6zm16-1c0 5.514-4.486 10-10 10s-10-4.486-10-10 4.486-10 10-10 10 4.486 10 10zm2 0c0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12 12-5.373 12-12z"/>
              </svg>
            </button>
          </form>
        </div>
      </div>
      <div class="flex-col w-full lg:w-[37rem] h-[24rem] mt-4">
        <!-- plot -->
        <div id='chart2' class='chart2 w-full h-full'></div>
        <div class="flex flex-row gap-2 justify-center pl-10">
          <!-- refresh plot button -->
          <button name="refresh2" onclick="refresh(2);" class="tooltip btn-sm btn btn-primary" data-tip="Refresh plot">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="fill-current">
              <path d="M13.5 2c-5.621 0-10.211 4.443-10.475 10h-3.025l5 6.625 5-6.625h-2.975c.257-3.351 3.06-6 6.475-6 3.584 0 6.5 2.916 6.5 6.5s-2.916 6.5-6.5 6.5c-1.863 0-3.542-.793-4.728-2.053l-2.427 3.216c1.877 1.754 4.389 2.837 7.155 2.837 5.79 0 10.5-4.71 10.5-10.5s-4.71-10.5-10.5-10.5z"/>
            </svg>
          </button>
          <form enctype="multipart/form-data" method="post">
            <!-- download csv button -->
            <button name="download2" class="btn-sm btn tooltip" data-tip="Download csv">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="fill-current">
                <path d="M6 13h4v-7h4v7h4l-6 6-6-6zm16-1c0 5.514-4.486 10-10 10s-10-4.486-10-10 4.486-10 10-10 10 4.486 10 10zm2 0c0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12 12-5.373 12-12z"/>
              </svg>
            </button>
          </form>
        </div>
      </div>
      <div class="flex-col w-full lg:w-[37rem] h-[24rem] mt-4">
        <!-- plot -->
        <div id='chart3' class='chart3 w-full h-full'></div>
        <div class="flex flex-row gap-2 justify-center pl-10">
          <!-- refresh plot button -->
          <button name="refresh3" onclick="refresh(3);" class="tooltip btn-sm btn btn-primary" data-tip="Refresh plot">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="fill-current">
              <path d="M13.5 2c-5.621 0-10.211 4.443-10.475 10h-3.025l5 6.625 5-6.625h-2.975c.257-3.351 3.06-6 6.475-6 3.584 0 6.5 2.916 6.5 6.5s-2.916 6.5-6.5 6.5c-1.863 0-3.542-.793-4.728-2.053l-2.427 3.216c1.877 1.754 4.389 2.837 7.155 2.837 5.79 0 10.5-4.71 10.5-10.5s-4.71-10.5-10.5-10.5z"/>
            </svg>
          </button>
          <form enctype="multipart/form-data" method="post">
            <!-- download csv button -->
            <button name="download3" class="btn-sm btn tooltip" data-tip="Download csv">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="fill-current">
                <path d="M6 13h4v-7h4v7h4l-6 6-6-6zm16-1c0 5.514-4.486 10-10 10s-10-4.486-10-10 4.486-10 10-10 10 4.486 10 10zm2 0c0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12 12-5.373 12-12z"/>
              </svg>
            </button>
          </form>
        </div>
      </div>
      <div class="flex-col w-full lg:w-[37rem] h-[24rem] mt-4">
        <!-- plot -->
        <div id='chart4' class='chart4 w-full h-full'></div>
        <div class="flex flex-row gap-2 justify-center pl-10">
          <!-- refresh plot button -->
          <button name="refresh4" onclick="refresh(4);" class="tooltip btn-sm btn btn-primary" data-tip="Refresh plot">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="fill-current">
              <path d="M13.5 2c-5.621 0-10.211 4.443-10.475 10h-3.025l5 6.625 5-6.625h-2.975c.257-3.351 3.06-6 6.475-6 3.584 0 6.5 2.916 6.5 6.5s-2.916 6.5-6.5 6.5c-1.863 0-3.542-.793-4.728-2.053l-2.427 3.216c1.877 1.754 4.389 2.837 7.155 2.837 5.79 0 10.5-4.71 10.5-10.5s-4.71-10.5-10.5-10.5z"/>
            </svg>
          </button>
          <form enctype="multipart/form-data" method="post">
            <!-- download csv button -->
            <button name="download4" class="btn-sm btn tooltip" data-tip="Download csv">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="fill-current">
                <path d="M6 13h4v-7h4v7h4l-6 6-6-6zm16-1c0 5.514-4.486 10-10 10s-10-4.486-10-10 4.486-10 10-10 10 4.486 10 10zm2 0c0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12 12-5.373 12-12z"/>
              </svg>
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>


  </body>
  <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
  <script type='text/javascript'>
    // plot graphs
    var graphs = {{ graph_json_list[0] | safe }};
    Plotly.plot('chart1',graphs,{});
    graphs = {{ graph_json_list[1] | safe }};
    Plotly.plot('chart2',graphs,{});
    graphs = {{ graph_json_list[2] | safe }};
    Plotly.plot('chart3',graphs,{});
    graphs = {{ graph_json_list[3] | safe }};
    Plotly.plot('chart4',graphs,{});

    // function to send ajax request to refresh plot
    function refresh(i) {
      $.ajax({
        url: "/refresh",
        type: "POST",
        data: { 
          'id': i,
          'csrfmiddlewaretoken': '{{ csrf_token }}'
        },
        dataType: "json",
        success: function (data) {
          Plotly.react('chart'+i,data,{});
        }
      });
    }
  </script>
</html>